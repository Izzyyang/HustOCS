<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>无标题文档</title>
<script src="js/jquery-1.5.2.min.js"></script>
<script type="text/javascript">
     //复选框事件  
    //全选、取消全选的事件  
    function selectAll(){  
	    $("input[name='aa']").val("234567890");
        if ($("#SelectAll").attr("checked")) {  
            $(":checkbox").attr("checked", true);  
        } else {  
            $(":checkbox").attr("checked", false);  
        }  
    }  
    //子复选框的事件  
    function setSelectAll(){  
        //当没有选中某个子复选框时，SelectAll取消选中  
        if (!$("#subcheck").checked) {  
            $("#SelectAll").attr("checked", false);  
        }  
        var chsub = $("input[type='checkbox'][id='subcheck']").length; //获取subcheck的个数  
        var checkedsub = $("input[type='checkbox'][id='subcheck']:checked").length; //获取选中的subcheck的个数  
        if (checkedsub == chsub) {  
            $("#SelectAll").attr("checked", true);  
        }  
    }  
</script>
</head>

<body>
    <input type="checkbox" id="SelectAll"  value="全选" onclick="selectAll();"/>  
      
    <input type="checkbox" id="subcheck"  value="1" onclick="setSelectAll();"/>  
    <input type="checkbox" id="subcheck"  value="2" onclick="setSelectAll();"/>  
    <input type="checkbox" id="subcheck"  value="3" onclick="setSelectAll();"/>  
    <input type="checkbox" id="subcheck"  value="4" onclick="setSelectAll();"/> 
	<input name="aa" type="text" value="" /> 
</body>
</html>
